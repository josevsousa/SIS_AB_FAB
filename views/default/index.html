    {{extend 'layoutLojinha.html'}}
    <link rel="stylesheet" href="{{=URL('static','jquery-ui-1.11.4.custom/jquery-ui.css')}}">
    <script src="{{=URL('static','jquery-ui-1.11.4.custom/jquery-ui.js')}}"></script>
	<script src="{{=URL('static','js/highcharts.js')}}"></script>
	<script src="{{=URL('static','js/exporting.js')}}"></script>
    <style>
    .debito{color: red;}
    div#date_initial__error {
        position: absolute;
        left: 27px;
        top: -26px;
    }
    #no_table_date_final__row .error_wrapper {
        position: absolute;
        left: 192px;
        top: -26px;
    }
    .check{
        padding: 3px;       
    }
    .check div{
    width: 20px;
    height: 22px;
    margin: 0 auto;
    margin-top: 0px;
    }
    .check div.check_False{
        background:url('{{=URL('static','images/checkBOX.png')}}') center 0px no-repeat;   
    }
    .check div.check_True{
        background:url('{{=URL('static','images/checkBOX.png')}}') center -24px no-repeat;                               
    }
    .obs_iten{
        padding: 2px !important;
    }
    .obs_iten input{
        margin: 0 auto;
        width: 95%;
    }
    span.ee {
        padding-left: 2px;
        color: red;
        display: none;
    }
    #tabela_creditos th:last-child {
        text-align: center;
    }
    .dataDisplay{
            font-size: x-large;
    }
    #telaRepresentantes img{
        width: 200px;
        margin-left: 40%;
    }
    .containerRadio {
        padding-left: 23px;
    }
    .containerRadio label{
        margin: 0 !important;
    }
    .progress {
        height: 9px;
    }
    .oculto{display:none;}
    </style>
 <script>

      $(document).ready(function(){
        $('#minhaTabela').DataTable({
            // "scrollX": true,
            // "order": [ 6, 'desc' ],
            "language": {
              "url": "{{=URL('static','js/tradutorTable.json')}}"
            }
            
        }); 


            // ---- DATA
            var data = new Date();
            var ano = data.getFullYear();
            var mes = (data.getMonth()+1).toString(); // 0-11 (zero=janeiro)
            var mesExtenso = "";
            // ---- 
            if (mes == 1) {
                mesExtenso = 'Janeiro'
            }else if(mes == 2){
                mesExtenso = 'Fevereiro';
            }else if(mes == 3){
                mesExtenso = 'Março';
            }else if(mes == 4){
                mesExtenso = 'Abril';
            }else if(mes == 5){
                mesExtenso = 'Maio';
            }else if(mes == 6){
                mesExtenso = 'Junho';
            }else if(mes == 7){
                mesExtenso = 'Julho';
            }else if(mes == 8){
                mesExtenso = 'Agosto';
            }else if(mes == 9){
                mesExtenso = 'Setembro';
            }else if(mes == 10){
                mesExtenso = 'Outubro';
            }else if(mes == 11){
                mesExtenso = 'Novembro';
            }else{
                mesExtenso = 'Desembro';
            };
            // ----
            if (mes<10 && mes>0) {
                mes = "0"+mes;
            };
            // ----- FIM DATA

        //============ ABA CHEQUE =================
            $(".cheques_boletos").on('click', function() {
                // var busca = ano+"-"+mes;//pega o mes e ano atual
                var opcao = $("input[name='inlineRadioOptions']:checked").val();
                
                // $('#transitory').val(opcao+';'+"jose");//manda pro transitory
                // ajax('cheques_boletos',['transitory'],'grid');//chama a funçao que retorna a grid pronta
            });  

            $('#opcaoCheque').change(function(){
                var opcao = $("input[name='inlineRadioOptions']:checked").val();
                $('#transitory').val(opcao+';'+"jose");//manda pro transitory
                ajax('cheques_boletos',['transitory'],'grid');//chama a funçao que retorna a grid pronta
            });
        //============= FIM ABA CHEQUE ==============

        //================ REPRESENTANTES ==============
            // var table = $('#representantes').DataTable();
     
            // $('#representantes tbody').on('click', 'tr', function () {
            //     var data = table.row( this ).data();
            //     alert( 'You clicked on '+data[0]+'\'s row' );
            // } );
            $("#repress").on('click',function(){
                $('#no_table_date_initialR, #no_table_date_finalR').val('');//zera os campos das duas datas
                //$('.dataDisplay').text(mesExtenso+' de '+ano);//monta o mes e ano por exenso na tela
                $('.dataDisplay').text('Em desenvolvimento!!');
                var busca = ano+"-"+mes;//pega o mes e ano atual
                $('#transitory').val(busca);//manda pro transitory

                //ajax('tela_representantes', ['transitory'], 'telaRepresentantes')//chama a funçao que retorna a grid pronta
                //$('.telaRepresentantes').load('representantes.html')
            });
            //butao buscar 
            $('#buscarCqR').on('click',function(){
                var d1 = $('#no_table_date_initialR').val();
                var d2 = $('#no_table_date_finalR').val();
                if (d1 != '' && d2 != '') {
                    $('#transitory').val(d1+';'+d2);                    
                    //ajax('tela_representantes_busca', ['transitory'], 'telaRepresentantes');
                };
            });
        //================ FIM REPRESENTANTES ==============


            // datepicker
            $(function() {
                $( "#no_table_date_initial" ).datepicker({
                  // defaultDate: "+1w",
                  changeMonth: true,
                  // numberOfMonths: 2,
                  onClose: function( selectedDate ) {
                    $( "#no_table_date_final" ).datepicker( "option", "minDate", selectedDate );
                  }
                });
                $( "#no_table_date_final" ).datepicker({
                  // defaultDate: "+1w",
                  changeMonth: true,
                  // numberOfMonths: 2,
                  onClose: function( selectedDate ) {
                    $( "#no_table_date_initial" ).datepicker( "option", "maxDate", selectedDate );
                  }
                });
                $('fieldset').append('<span class="glyphicon glyphicon-calendar dt1"></span> <span class="glyphicon glyphicon-calendar dt2"></span>')
            });            
            $(function() {
                $( "#no_table_date_initialR" ).datepicker({
                  // defaultDate: "+1w",
                  changeMonth: true,
                  // numberOfMonths: 2,
                  onClose: function( selectedDate ) {
                    $( "#no_table_date_finalR" ).datepicker( "option", "minDate", selectedDate );
                  }
                });
                $( "#no_table_date_finalR" ).datepicker({
                  // defaultDate: "+1w",
                  changeMonth: true,
                  // numberOfMonths: 2,
                  onClose: function( selectedDate ) {
                    $( "#no_table_date_initialR" ).datepicker( "option", "maxDate", selectedDate );
                  }
                });
                $('fieldset').append('<span class="glyphicon glyphicon-calendar dt1"></span> <span class="glyphicon glyphicon-calendar dt2"></span>')
            });

 

            // $('#tabela_creditos').DataTable({
            //     "scrollX": true,
            //     // "order": [ 6, 'desc' ],
            //     "language": {
            //     "url": "{{=URL('static','js/tradutorTable.json')}}"
            //     }
            // }); 

            for (var i = $('.ui-datepicker-calendar td a').length - 1; i >= 0; i--) {
                var dia = $('.ui-datepicker-calendar td a')[i].text;
                // if (dia == 7) {
                //     var md = $('.ui-datepicker-calendar td a')[i];
                //     console.log( md.style.color = "red" )
                // };
                console.log($('.ui-datepicker-calendar'))
            };


            // $('.ui-datepicker-calendar td a').map(function(item){
            //     if ((item) == 5) {
            //         console.log('jose')
            //     }else{
            //         console.log(item.parent
            //     };
            // })
            
            // console.log( $('.ui-datepicker-calendar td a').length ) 
            // $("#datepicker").datepicker( "setDate", "10/12/2012" );

               





        });//fim jquary ready
    </script>

    <input type="text" id="transitory" name="transitory" style='display:none'>
	<h2>Relatórios de movimento!</h2>
    

	<!-- <h3>Teste em produção com pull</h3> -->
	<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
	  <div class="panel panel-default">
	    <div class="panel-heading" role="tab" id="headingOne">
	      <h4 class="panel-title">
	        <a role="button" id="repress" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
	          <span class="glyphicon glyphicon-briefcase" aria-hidden="true"></span> Histórico de venda dos Representantes
	        </a>
	      </h4>
	    </div>
	    <div id="collapseOne" class="panel-collapse collapse " role="tabpanel" aria-labelledby="headingOne">
	      <div class="panel-body">
           <span class="ee">Os dois campos obrigatórios</span>
            <div class="row">
                <div class="col-md-6">
                    <form class="form-inline" action='#'>
                          <div class="form-group">
                           <input class="form-control" id="no_table_date_initialR" name="date_initial" type="text" value="" placeholder="Data inicial">
                          </div>
                          <div class="form-group">
                            <input type="text" class="form-control" id="no_table_date_finalR" placeholder="Data final">
                          </div>
                          <a type="text" id="buscarCqR" class="btn btn-default">Buscar</a>
                    </form>
                </div>                
                <div class="col-md-6 dataDisplay"></div>    
            </div>    
            <hr>
            <div id="telaRepresentantes">
	           <img src="{{=URL('static','images/loading.gif')}}" alt="">
            </div>   
	      </div>
	    </div>
	  </div>
	  <div class="panel panel-default">
	    <div class="panel-heading" role="tab" id="headingTwo">
	      <h4 class="panel-title">
	        <a class="collapsed cheques_boletos" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
	          <span class="glyphicon glyphicon-stats" aria-hidden="true"></span> Controle de cheques recebidos
	        </a>
	      </h4>
	    </div>
	   <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
           <!-- <div id="grid"></div> -->
            <span class="ee"> Os dois campos obrigatórios</span>
            <div class="row"> 
            <form id="opcaoCheque">
                <div class="col-md-4"> 
                    <ul class="list-group">
                      <li class="list-group-item">
                        <span class="badge">14</span>
                        <div class="containerRadio">
                            <label class="radio">
                                <input type="radio" checked  name="inlineRadioOptions" id="inlineRadio1" value="option1"> Aguardando lançamento
                            </label>
                        </div>  
                      </li>
                      <li class="list-group-item">
                        <div class="containerRadio">
                            <label class="radio">
                                <input type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2"> Compensado
                            </label>
                        </div>
                      </li>
                    </ul>
                </div>  
                <div class="col-md-4"> 
                    <ul class="list-group">
                      <li class="list-group-item">
                        <div class="containerRadio">
                            <label class="radio">
                                <input type="radio" name="inlineRadioOptions" id="inlineRadio3" value="option3"> Devolvido 1-Vez
                            </label>
                        </div>  
                      </li>
                      <li class="list-group-item">
                        <div class="containerRadio">
                            <label class="radio">
                                <input type="radio" name="inlineRadioOptions" id="inlineRadio4" value="option4"> Devolvido 2-Vez
                            </label>
                        </div>
                      </li>
                    </ul>
                </div> 
                <div class="col-md-4"> 
                    <ul class="list-group">
                      <li class="list-group-item">
                        <div class="containerRadio">
                            <label class="radio">
                                <input type="radio" name="inlineRadioOptions" id="inlineRadio5" value="option5"> Devolvido ao cliente
                            </label>
                        </div>  
                      </li>
                      <li class="list-group-item">
                        <div class="containerRadio">
                            <label class="radio">
                                <input type="radio" disabled='disabled' name="inlineRadioOptions" id="inlineRadio6" value="option6"> Exibir todos
                            </label>
                        </div>
                      </li>
                    </ul>
                </div>    
            </form>
            </div>    
            <div class="carregando">
                <hr>
            </div>    
            <div class="row">
                <div class="col-md-12">
                    <!-- table -->
                    <table id="minhaTabela" class="table hover table-striped" cellspacing="0" width="100%" >
                    <thead>
                        <tr>
                            <th class="oculto">id</th>
                            <th>Código venda</th>
                            <th>Número cheque</th>
                            <th>Proprietário do  Cheque</th>
                            <th>Parcela</th>   
                            <th>Data agendada</th>     
                            <th>Status lançamento</th>
                        </tr> 
                        <tbody id="grid">
                            {{for i in table:}}
                                <tr>
                                    <td class="oculto">{{=i.id}}</td>
                                    <td>{{=i.codigo}}</td>
                                    <td>{{=i.numeroCheque}}</td>
                                    <td>{{=i.cliente}}</td>
                                    <td>{{=i.parcela}}</td>
                                    <td>{{=(i.dataVencimento).strftime("%d/%m/%Y")}}</td>
                                    <td>{{=i.statusLancamento}}</td>
                                </tr>
                            {{pass}}
                        </tbody>
                    </thead>
                    </table>

                </div>    
            </div>
          </div>
        </div>
      </div><!-- 
	  <div class="panel panel-default">
	    <div class="panel-heading" role="tab" id="headingThree">
	      <h4 class="panel-title">
	        <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
	          proximo
	        </a>
	      </h4>
	    </div>
	    <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">           
           Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
         
          </div>
	    </div>
	  </div> -->
	</div>

